{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "dbml",
    "patterns": [
        {
            "include": "#comments"
        },
        {
            "include": "#statements"
        }
    ],
    "repository": {
        "comments": {
            "patterns": [{
                "name": "comment.line.double-slash.dbml",
                "match": "\/\/.*"
            }]
        },
        "statements": {
            "patterns": [
                {
                    "include": "#project-definition"
                }
            ]
        },
        "project-definition": {
            "patterns": [{
                "name": "meta.project.dbml",
                "begin": "(?i)(project)",
                "end": "(})",
                "beginCaptures": {
                    "1":{ "name": "storage.type.project.dbml" }
                },
                "patterns": [
                    {
                        "include": "#definition-name"
                    },
                    {
                        "include": "#definition-attributes"
                    }
                ]
            }]
        },
        "definition-name": {
            "patterns": [{
                "name": "entity.name.class.dbml",
                "match": "\\b([:alnum:_]\\S*)\\b"
            }]
        },
        "definition-attributes": {
            "patterns": [
                {
                    "include": "#database-type"
                },
                {
                    "include": "#note"
                }
            ]
        },
        "database-type": {
            "name": "storage.type.database-type.dbml",
            "match": "(?i)(database_type:)"
        }
    },

    "scopeName": "source.dbml"
}